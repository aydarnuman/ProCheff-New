(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[676],{7475:function(e,t,a){Promise.resolve().then(a.bind(a,7701))},7701:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return o}});var n=a(7437),r=a(2265);let l=(0,a(3011).U)(e=>({panelData:null,setPanelData:t=>e({panelData:t}),clearData:()=>e({panelData:null}),isLoading:!1,setLoading:t=>e({isLoading:t})}));var s=a(9820),i=a(7204);function o(){var e,t,a,o;let{setPanelData:c,setLoading:d,isLoading:u}=l(),[m,f]=(0,r.useState)(!1),[x,p]=(0,r.useState)(null),v=async e=>{if(!e||"application/pdf"!==e.type){alert("L\xfctfen ge\xe7erli bir PDF dosyası se\xe7in.");return}let t=new FormData;t.append("file",e),d(!0),p(null);try{let e=await fetch("/api/pipeline/pdf-to-offer",{method:"POST",body:t}),a=await e.json();a.success&&a.panelData?(c(a.panelData),p({success:!0,message:"PDF başarıyla analiz edildi!",data:a.panelData})):p({success:!1,message:a.message||"PDF analizi başarısız oldu."})}catch(e){p({success:!1,message:"Bir hata oluştu: "+e.message})}finally{d(!1)}},h=e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?f(!0):"dragleave"===e.type&&f(!1)};return(0,n.jsx)("div",{className:"min-h-screen bg-gray-50 p-6",children:(0,n.jsxs)("div",{className:"mx-auto max-w-4xl",children:[(0,n.jsxs)("div",{className:"mb-6",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"\uD83D\uDCC4 PDF Men\xfc Y\xfckleme"}),(0,n.jsx)("p",{className:"text-gray-600 mt-2",children:"Men\xfc PDF'inizi y\xfckleyin, otomatik analiz ve teklif hesaplama başlasın."})]}),(0,n.jsxs)(s.Zb,{className:"mb-6",children:[(0,n.jsx)(s.Ol,{children:(0,n.jsx)(s.ll,{children:"PDF Dosyası Se\xe7in"})}),(0,n.jsx)(s.aY,{children:(0,n.jsx)("div",{className:"border-2 border-dashed rounded-lg p-8 text-center transition-colors ".concat(m?"border-emerald-500 bg-emerald-50":"border-gray-300 hover:border-gray-400"," ").concat(u?"opacity-50 pointer-events-none":""),onDragEnter:h,onDragLeave:h,onDragOver:h,onDrop:e=>{var t;e.preventDefault(),e.stopPropagation(),f(!1);let a=null===(t=e.dataTransfer.files)||void 0===t?void 0:t[0];a&&v(a)},children:u?(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)("div",{className:"text-lg font-medium text-gray-700",children:"⏳ PDF İşleniyor..."}),(0,n.jsx)(i.E,{value:void 0,className:"w-full"}),(0,n.jsx)("p",{className:"text-sm text-gray-500",children:"PDF metne \xe7evriliyor → Men\xfc analizi → Piyasa araştırması → Teklif hesaplama"})]}):(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)("div",{className:"text-6xl",children:"\uD83D\uDCC1"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-lg font-medium text-gray-700 mb-2",children:"PDF dosyasını buraya s\xfcr\xfckleyip bırakın"}),(0,n.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"veya dosya se\xe7mek i\xe7in tıklayın"}),(0,n.jsx)("input",{type:"file",accept:".pdf",onChange:e=>{var t;let a=null===(t=e.target.files)||void 0===t?void 0:t[0];a&&v(a)},className:"hidden",id:"file-upload"}),(0,n.jsx)("label",{htmlFor:"file-upload",className:"inline-block bg-emerald-600 text-white px-6 py-2 rounded-lg cursor-pointer hover:bg-emerald-700 transition-colors",children:"Dosya Se\xe7"})]})]})})})]}),x&&(0,n.jsx)(s.Zb,{className:x.success?"border-emerald-200":"border-red-200",children:(0,n.jsxs)(s.aY,{className:"p-4",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2 ".concat(x.success?"text-emerald-700":"text-red-700"),children:[(0,n.jsx)("span",{className:"text-xl",children:x.success?"✅":"❌"}),(0,n.jsx)("span",{className:"font-medium",children:x.message})]}),x.success&&x.data&&(0,n.jsxs)("div",{className:"mt-4 grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[(0,n.jsxs)("div",{className:"bg-gray-50 p-3 rounded",children:[(0,n.jsx)("div",{className:"text-sm font-medium text-gray-700",children:"Men\xfc T\xfcr\xfc"}),(0,n.jsx)("div",{className:"text-lg",children:(null===(e=x.data.menu)||void 0===e?void 0:e.type)||"Bilinmiyor"})]}),(0,n.jsxs)("div",{className:"bg-gray-50 p-3 rounded",children:[(0,n.jsx)("div",{className:"text-sm font-medium text-gray-700",children:"Toplam \xdcr\xfcn"}),(0,n.jsx)("div",{className:"text-lg",children:(null===(t=x.data.menu)||void 0===t?void 0:t.items)||0})]}),(0,n.jsxs)("div",{className:"bg-gray-50 p-3 rounded",children:[(0,n.jsx)("div",{className:"text-sm font-medium text-gray-700",children:"Tahmini Fiyat"}),(0,n.jsxs)("div",{className:"text-lg text-emerald-600 font-semibold",children:[(null===(o=x.data.offer)||void 0===o?void 0:null===(a=o.price)||void 0===a?void 0:a.toFixed(2))||"0.00"," ₺"]})]})]}),x.success&&(0,n.jsxs)("div",{className:"mt-4 flex gap-2",children:[(0,n.jsx)("a",{href:"/menu",className:"inline-block bg-blue-600 text-white px-4 py-2 rounded text-sm hover:bg-blue-700 transition-colors",children:"\uD83D\uDCCA Men\xfc Analizi"}),(0,n.jsx)("a",{href:"/offer",className:"inline-block bg-emerald-600 text-white px-4 py-2 rounded text-sm hover:bg-emerald-700 transition-colors",children:"\uD83D\uDCB0 Teklif Detayı"}),(0,n.jsx)("a",{href:"/reasoning",className:"inline-block bg-amber-600 text-white px-4 py-2 rounded text-sm hover:bg-amber-700 transition-colors",children:"\uD83E\uDDE0 Risk Analizi"})]})]})}),(0,n.jsxs)(s.Zb,{className:"mt-6",children:[(0,n.jsx)(s.Ol,{children:(0,n.jsx)(s.ll,{children:"\uD83D\uDCA1 Nasıl \xc7alışır?"})}),(0,n.jsx)(s.aY,{children:(0,n.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"text-3xl mb-2",children:"\uD83D\uDCC4"}),(0,n.jsx)("div",{className:"font-medium",children:"PDF Upload"}),(0,n.jsx)("div",{className:"text-sm text-gray-600",children:"Men\xfc PDF'ini y\xfckle"})]}),(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"text-3xl mb-2",children:"\uD83D\uDD0D"}),(0,n.jsx)("div",{className:"font-medium",children:"Metin Analizi"}),(0,n.jsx)("div",{className:"text-sm text-gray-600",children:"AI ile men\xfc \xe7\xf6z\xfcmleme"})]}),(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"text-3xl mb-2",children:"\uD83D\uDCB9"}),(0,n.jsx)("div",{className:"font-medium",children:"Piyasa Araştırması"}),(0,n.jsx)("div",{className:"text-sm text-gray-600",children:"G\xfcncel fiyat analizi"})]}),(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"text-3xl mb-2",children:"\uD83D\uDCCA"}),(0,n.jsx)("div",{className:"font-medium",children:"Teklif Hesaplama"}),(0,n.jsx)("div",{className:"text-sm text-gray-600",children:"Otomatik fiyatlandırma"})]})]})})]})]})})}},9820:function(e,t,a){"use strict";a.d(t,{Ol:function(){return l},Zb:function(){return r},aY:function(){return i},ll:function(){return s}});var n=a(7437);function r(e){let{children:t,className:a=""}=e;return(0,n.jsx)("div",{className:a,style:{background:"rgba(35, 39, 47, 0.8)",border:"1px solid rgba(59, 130, 246, 0.2)",borderRadius:"12px",padding:"24px",color:"#F1F5F9"},children:t})}function l(e){let{children:t,className:a=""}=e;return(0,n.jsx)("div",{className:a,style:{marginBottom:"16px"},children:t})}function s(e){let{children:t,className:a="",style:r={}}=e;return(0,n.jsx)("h3",{className:a,style:{fontSize:"1.125rem",fontWeight:"bold",color:"#F1F5F9",margin:0,...r},children:t})}function i(e){let{children:t,className:a=""}=e;return(0,n.jsx)("div",{className:a,style:{color:"#F1F5F9"},children:t})}a(2265)},7204:function(e,t,a){"use strict";a.d(t,{E:function(){return s}});var n=a(7437),r=a(2265),l=a(610);let s=r.forwardRef((e,t)=>{let{className:a,value:r,...s}=e;return(0,n.jsx)(l.fC,{ref:t,className:"relative h-4 w-full overflow-hidden rounded-full bg-gray-200 ".concat(a||""),...s,children:(0,n.jsx)(l.z$,{className:"h-full w-full flex-1 bg-emerald-500 transition-all",style:{transform:"translateX(-".concat(100-(r||0),"%)")}})})});s.displayName=l.fC.displayName},8575:function(e,t,a){"use strict";a.d(t,{F:function(){return l},e:function(){return s}});var n=a(2265);function r(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function l(...e){return t=>{let a=!1,n=e.map(e=>{let n=r(e,t);return a||"function"!=typeof n||(a=!0),n});if(a)return()=>{for(let t=0;t<n.length;t++){let a=n[t];"function"==typeof a?a():r(e[t],null)}}}}function s(...e){return n.useCallback(l(...e),e)}},3966:function(e,t,a){"use strict";a.d(t,{b:function(){return l}});var n=a(2265),r=a(7437);function l(e,t=[]){let a=[],l=()=>{let t=a.map(e=>n.createContext(e));return function(a){let r=a?.[e]||t;return n.useMemo(()=>({[`__scope${e}`]:{...a,[e]:r}}),[a,r])}};return l.scopeName=e,[function(t,l){let s=n.createContext(l),i=a.length;a=[...a,l];let o=t=>{let{scope:a,children:l,...o}=t,c=a?.[e]?.[i]||s,d=n.useMemo(()=>o,Object.values(o));return(0,r.jsx)(c.Provider,{value:d,children:l})};return o.displayName=t+"Provider",[o,function(a,r){let o=r?.[e]?.[i]||s,c=n.useContext(o);if(c)return c;if(void 0!==l)return l;throw Error(`\`${a}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let a=()=>{let a=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let r=a.reduce((t,{useScope:a,scopeName:n})=>{let r=a(e)[`__scope${n}`];return{...t,...r}},{});return n.useMemo(()=>({[`__scope${t.scopeName}`]:r}),[r])}};return a.scopeName=t.scopeName,a}(l,...t)]}},6840:function(e,t,a){"use strict";a.d(t,{WV:function(){return s}});var n=a(2265);a(4887);var r=a(7495),l=a(7437),s=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let a=(0,r.Z8)(`Primitive.${t}`),s=n.forwardRef((e,n)=>{let{asChild:r,...s}=e,i=r?a:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,l.jsx)(i,{...s,ref:n})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{})},610:function(e,t,a){"use strict";a.d(t,{fC:function(){return b},z$:function(){return j}});var n=a(2265),r=a(3966),l=a(6840),s=a(7437),i="Progress",[o,c]=(0,r.b)(i),[d,u]=o(i),m=n.forwardRef((e,t)=>{var a,n,r,i;let{__scopeProgress:o,value:c=null,max:u,getValueLabel:m=p,...f}=e;(u||0===u)&&!g(u)&&console.error((a="".concat(u),n="Progress","Invalid prop `max` of value `".concat(a,"` supplied to `").concat(n,"`. Only numbers greater than 0 are valid max values. Defaulting to `").concat(100,"`.")));let x=g(u)?u:100;null===c||y(c,x)||console.error((r="".concat(c),i="Progress","Invalid prop `value` of value `".concat(r,"` supplied to `").concat(i,"`. The `value` prop must be:\n  - a positive number\n  - less than the value passed to `max` (or ").concat(100," if no `max` prop is set)\n  - `null` or `undefined` if the progress is indeterminate.\n\nDefaulting to `null`.")));let b=y(c,x)?c:null,j=h(b)?m(b,x):void 0;return(0,s.jsx)(d,{scope:o,value:b,max:x,children:(0,s.jsx)(l.WV.div,{"aria-valuemax":x,"aria-valuemin":0,"aria-valuenow":h(b)?b:void 0,"aria-valuetext":j,role:"progressbar","data-state":v(b,x),"data-value":null!=b?b:void 0,"data-max":x,...f,ref:t})})});m.displayName=i;var f="ProgressIndicator",x=n.forwardRef((e,t)=>{var a;let{__scopeProgress:n,...r}=e,i=u(f,n);return(0,s.jsx)(l.WV.div,{"data-state":v(i.value,i.max),"data-value":null!==(a=i.value)&&void 0!==a?a:void 0,"data-max":i.max,...r,ref:t})});function p(e,t){return"".concat(Math.round(e/t*100),"%")}function v(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function h(e){return"number"==typeof e}function g(e){return h(e)&&!isNaN(e)&&e>0}function y(e,t){return h(e)&&!isNaN(e)&&e<=t&&e>=0}x.displayName=f;var b=m,j=x},7495:function(e,t,a){"use strict";a.d(t,{Z8:function(){return s}});var n=a(2265),r=a(8575),l=a(7437);function s(e){let t=function(e){let t=n.forwardRef((e,t)=>{let{children:a,...l}=e;if(n.isValidElement(a)){let e,s;let i=(e=Object.getOwnPropertyDescriptor(a.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?a.ref:(e=Object.getOwnPropertyDescriptor(a,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?a.props.ref:a.props.ref||a.ref,o=function(e,t){let a={...t};for(let n in t){let r=e[n],l=t[n];/^on[A-Z]/.test(n)?r&&l?a[n]=(...e)=>{let t=l(...e);return r(...e),t}:r&&(a[n]=r):"style"===n?a[n]={...r,...l}:"className"===n&&(a[n]=[r,l].filter(Boolean).join(" "))}return{...e,...a}}(l,a.props);return a.type!==n.Fragment&&(o.ref=t?(0,r.F)(t,i):i),n.cloneElement(a,o)}return n.Children.count(a)>1?n.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),a=n.forwardRef((e,a)=>{let{children:r,...s}=e,i=n.Children.toArray(r),c=i.find(o);if(c){let e=c.props.children,r=i.map(t=>t!==c?t:n.Children.count(e)>1?n.Children.only(null):n.isValidElement(e)?e.props.children:null);return(0,l.jsx)(t,{...s,ref:a,children:n.isValidElement(e)?n.cloneElement(e,void 0,r):null})}return(0,l.jsx)(t,{...s,ref:a,children:r})});return a.displayName=`${e}.Slot`,a}var i=Symbol("radix.slottable");function o(e){return n.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===i}},3011:function(e,t,a){"use strict";a.d(t,{U:function(){return o}});var n=a(2265);let r=e=>{let t;let a=new Set,n=(e,n)=>{let r="function"==typeof e?e(t):e;if(!Object.is(r,t)){let e=t;t=(null!=n?n:"object"!=typeof r||null===r)?r:Object.assign({},t,r),a.forEach(a=>a(t,e))}},r=()=>t,l={setState:n,getState:r,getInitialState:()=>s,subscribe:e=>(a.add(e),()=>a.delete(e))},s=t=e(n,r,l);return l},l=e=>e?r(e):r,s=e=>e,i=e=>{let t=l(e),a=e=>(function(e,t=s){let a=n.useSyncExternalStore(e.subscribe,n.useCallback(()=>t(e.getState()),[e,t]),n.useCallback(()=>t(e.getInitialState()),[e,t]));return n.useDebugValue(a),a})(t,e);return Object.assign(a,t),a},o=e=>e?i(e):i}},function(e){e.O(0,[971,117,744],function(){return e(e.s=7475)}),_N_E=e.O()}]);